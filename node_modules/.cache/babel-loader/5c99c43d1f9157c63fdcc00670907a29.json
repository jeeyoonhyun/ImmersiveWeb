{"ast":null,"code":"import _classCallCheck from \"/Users/jeeyoonhyun/immersive-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jeeyoonhyun/immersive-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/jeeyoonhyun/immersive-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/jeeyoonhyun/immersive-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Color } from 'three';\nimport { Pass } from '../postprocessing/Pass.js';\n\nvar RenderPass = /*#__PURE__*/function (_Pass) {\n  _inherits(RenderPass, _Pass);\n\n  var _super = _createSuper(RenderPass);\n\n  function RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha) {\n    var _this;\n\n    _classCallCheck(this, RenderPass);\n\n    _this = _super.call(this);\n    _this.scene = scene;\n    _this.camera = camera;\n    _this.overrideMaterial = overrideMaterial;\n    _this.clearColor = clearColor;\n    _this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 0;\n    _this.clear = true;\n    _this.clearDepth = false;\n    _this.needsSwap = false;\n    _this._oldClearColor = new Color();\n    return _this;\n  }\n\n  _createClass(RenderPass, [{\n    key: \"render\",\n    value: function render(renderer, writeBuffer, readBuffer\n    /*, deltaTime, maskActive */\n    ) {\n      var oldAutoClear = renderer.autoClear;\n      renderer.autoClear = false;\n      var oldClearAlpha, oldOverrideMaterial;\n\n      if (this.overrideMaterial !== undefined) {\n        oldOverrideMaterial = this.scene.overrideMaterial;\n        this.scene.overrideMaterial = this.overrideMaterial;\n      }\n\n      if (this.clearColor) {\n        renderer.getClearColor(this._oldClearColor);\n        oldClearAlpha = renderer.getClearAlpha();\n        renderer.setClearColor(this.clearColor, this.clearAlpha);\n      }\n\n      if (this.clearDepth) {\n        renderer.clearDepth();\n      }\n\n      renderer.setRenderTarget(this.renderToScreen ? null : readBuffer); // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\n      if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n      renderer.render(this.scene, this.camera);\n\n      if (this.clearColor) {\n        renderer.setClearColor(this._oldClearColor, oldClearAlpha);\n      }\n\n      if (this.overrideMaterial !== undefined) {\n        this.scene.overrideMaterial = oldOverrideMaterial;\n      }\n\n      renderer.autoClear = oldAutoClear;\n    }\n  }]);\n\n  return RenderPass;\n}(Pass);\n\nexport { RenderPass };","map":{"version":3,"sources":["/Users/jeeyoonhyun/immersive-web/node_modules/three/examples/jsm/postprocessing/RenderPass.js"],"names":["Color","Pass","RenderPass","scene","camera","overrideMaterial","clearColor","clearAlpha","undefined","clear","clearDepth","needsSwap","_oldClearColor","renderer","writeBuffer","readBuffer","oldAutoClear","autoClear","oldClearAlpha","oldOverrideMaterial","getClearColor","getClearAlpha","setClearColor","setRenderTarget","renderToScreen","autoClearColor","autoClearDepth","autoClearStencil","render"],"mappings":";;;;AAAA,SACCA,KADD,QAEO,OAFP;AAGA,SAASC,IAAT,QAAqB,2BAArB;;IAEMC,U;;;;;AAEL,sBAAaC,KAAb,EAAoBC,MAApB,EAA4BC,gBAA5B,EAA8CC,UAA9C,EAA0DC,UAA1D,EAAuE;AAAA;;AAAA;;AAEtE;AAEA,UAAKJ,KAAL,GAAaA,KAAb;AACA,UAAKC,MAAL,GAAcA,MAAd;AAEA,UAAKC,gBAAL,GAAwBA,gBAAxB;AAEA,UAAKC,UAAL,GAAkBA,UAAlB;AACA,UAAKC,UAAL,GAAoBA,UAAU,KAAKC,SAAjB,GAA+BD,UAA/B,GAA4C,CAA9D;AAEA,UAAKE,KAAL,GAAa,IAAb;AACA,UAAKC,UAAL,GAAkB,KAAlB;AACA,UAAKC,SAAL,GAAiB,KAAjB;AACA,UAAKC,cAAL,GAAsB,IAAIZ,KAAJ,EAAtB;AAfsE;AAiBtE;;;;WAED,gBAAQa,QAAR,EAAkBC,WAAlB,EAA+BC;AAAW;AAA1C,MAAyE;AAExE,UAAMC,YAAY,GAAGH,QAAQ,CAACI,SAA9B;AACAJ,MAAAA,QAAQ,CAACI,SAAT,GAAqB,KAArB;AAEA,UAAIC,aAAJ,EAAmBC,mBAAnB;;AAEA,UAAK,KAAKd,gBAAL,KAA0BG,SAA/B,EAA2C;AAE1CW,QAAAA,mBAAmB,GAAG,KAAKhB,KAAL,CAAWE,gBAAjC;AAEA,aAAKF,KAAL,CAAWE,gBAAX,GAA8B,KAAKA,gBAAnC;AAEA;;AAED,UAAK,KAAKC,UAAV,EAAuB;AAEtBO,QAAAA,QAAQ,CAACO,aAAT,CAAwB,KAAKR,cAA7B;AACAM,QAAAA,aAAa,GAAGL,QAAQ,CAACQ,aAAT,EAAhB;AAEAR,QAAAA,QAAQ,CAACS,aAAT,CAAwB,KAAKhB,UAA7B,EAAyC,KAAKC,UAA9C;AAEA;;AAED,UAAK,KAAKG,UAAV,EAAuB;AAEtBG,QAAAA,QAAQ,CAACH,UAAT;AAEA;;AAEDG,MAAAA,QAAQ,CAACU,eAAT,CAA0B,KAAKC,cAAL,GAAsB,IAAtB,GAA6BT,UAAvD,EA9BwE,CAgCxE;;AACA,UAAK,KAAKN,KAAV,EAAkBI,QAAQ,CAACJ,KAAT,CAAgBI,QAAQ,CAACY,cAAzB,EAAyCZ,QAAQ,CAACa,cAAlD,EAAkEb,QAAQ,CAACc,gBAA3E;AAClBd,MAAAA,QAAQ,CAACe,MAAT,CAAiB,KAAKzB,KAAtB,EAA6B,KAAKC,MAAlC;;AAEA,UAAK,KAAKE,UAAV,EAAuB;AAEtBO,QAAAA,QAAQ,CAACS,aAAT,CAAwB,KAAKV,cAA7B,EAA6CM,aAA7C;AAEA;;AAED,UAAK,KAAKb,gBAAL,KAA0BG,SAA/B,EAA2C;AAE1C,aAAKL,KAAL,CAAWE,gBAAX,GAA8Bc,mBAA9B;AAEA;;AAEDN,MAAAA,QAAQ,CAACI,SAAT,GAAqBD,YAArB;AAEA;;;;EAvEuBf,I;;AA2EzB,SAASC,UAAT","sourcesContent":["import {\n\tColor\n} from 'three';\nimport { Pass } from '../postprocessing/Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n"]},"metadata":{},"sourceType":"module"}